import{a as m,l as c,d as f}from"./assets/scroll_to_top-1418539e.js";import{a as p,i}from"./assets/vendor-8cce9181.js";const E=document.querySelector(".header__button"),R=document.querySelector(".modal__button_close"),L=document.getElementById("header_modal");E.addEventListener("click",()=>{L.showModal()});R.addEventListener("click",()=>{L.close()});const g={quoteText:document.querySelector(".quote-card-text"),quoteAuthor:document.querySelector(".quote-card-author")},B="https://energyflow.b.goit.study/api/quote";async function T(e){try{m(c);const t=localStorage.getItem("quoteLocalData");if(t){const s=JSON.parse(t),u=q();if(s.date===u){b(s.author,s.quote);return}}const o=(await p.get(e)).data;if(o){const s={quote:o.quote,author:o.author,date:q()};localStorage.setItem("quoteLocalData",JSON.stringify(s)),b(s.author,s.quote)}}catch{g.quoteAuthor.textContent="Angry Developer",g.quoteText.textContent="Internet access is required to receive a quote.",i.error({title:"Error",message:"No internet connection"})}}function q(){const e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();return`${t}-${a}-${o}`}function b(e,t){f(c),g.quoteAuthor.textContent=e,g.quoteText.textContent=t}T(B);const D=document.querySelector(".exercises-search"),n={buttons:document.querySelector(".exercises-buttons"),musclesButton:document.querySelector('[data-filter="muscles"]'),bodypartButton:document.querySelector('[data-filter="bodypart"]'),equipmentButton:document.querySelector('[data-filter="equipment"]'),cardContainer:document.querySelector(".exercises-card-container"),pagination:document.querySelector("#pagination")};document.querySelector(".exercises-search-form");let l=null;p.defaults.baseURL="https://energyflow.b.goit.study/api";const r={filter:"Muscles",page:1,perPage:12,totalPages:1,totalItems:0};async function S(){return y(".exercises-card-container","add"),(await p.get("/filters",{params:{filter:r.filter,page:r.page,limit:r.perPage}})).data}function v(e){n.cardContainer.innerHTML="";const t=e.map(({name:a,filter:o,imgUrl:s})=>new Promise(u=>{const h=new Image;h.src=s,h.onload=()=>{u(`<li class="card-item">
          <a href="">
            <img class="card-image" src="${s}" alt="Card Image">
            <ul class="card-item-desc"="${a}">
              <li class="name" data-source="${a}">${a}</li>
              <li class="filter" data-source="${o}">${o}</li>
            </ul>
          </a>
        </li>`)}}));Promise.all(t).then(a=>{const o=a.join("");n.cardContainer.innerHTML=o,y(".exercises-card-container","add"),f(c)})}function x(){m(c),S().then(e=>{const{results:t,page:a,totalPages:o}=e;if(r.totalPages=o,y(".exercises-card-container","del"),v(t),o>1){const s=P(a,o);n.pagination.innerHTML=s,document.querySelector(".pag-btn").classList.add("active"),r.filter!=="Body parts"?n.pagination.style.display="block":n.pagination.style.display="none"}else n.pagination.style.display="none"}).catch(e=>{M(e.message,"ERROR")}).finally(()=>{})}x();n.musclesButton.classList.add("active");n.buttons.addEventListener("click",e=>{w(e);const t=e.target;n.pagination.classList.remove("hidden"),D.classList.add("hidden"),exercisesName.innerHTML="Exercises";const a=document.querySelector(".pagination-container");a.innerHTML="",a.classList.add("hidden"),t!==e.currentTarget&&(t===n.musclesButton?r.filter="Muscles":t===n.bodypartButton?r.filter="Body parts":t===n.equipmentButton&&(r.filter="Equipment"),r.page=1,x())});function w(e){const t=e.target.nodeName==="BUTTON";n.musclesButton.classList.remove("active"),t&&(e.target.classList.add("active"),l!==null&&l.classList.remove("active"),l=e.target,l!==null&&l.classList.add("active"))}n.pagination.addEventListener("click",$);function P(e,t){let a="";for(;e<=t;e++)a+=`<button class="pag-btn" type="button">${e}</button>`;return a}async function $(e){document.querySelectorAll(".pag-btn").forEach(a=>{a.classList.remove("active")}),e.target.classList.add("active"),r.page=e.target.textContent,n.cardContainer.innerHTML="";try{m(c);const{results:a}=await S();v(a)}catch(a){console.log(a)}}function y(e,t){const a=document.querySelector(e),o=a.getBoundingClientRect();o.height>100&&t==="add"&&(a.setAttribute("style","height:"+o.height+"px"),a.style.height=o.height+"px"),t==="del"&&(a.removeAttribute("style"),a.style.height="auto")}function M(e,t="info"){t==="OK"?i.success({position:"topCenter",message:e}):t==="ERROR"?i.error({position:"topCenter",message:e}):i.info({position:"topCenter",message:e})}const C=document.querySelector(".footer-form");async function O(e){return p.post("https://energyflow.b.goit.study/api/subscription",e)}C.addEventListener("submit",_);function _(e){e.preventDefault();const t=e.currentTarget.email.value.trim().toLowerCase();if(t===""){d("The email field is empty!","ERROR");return}const a={email:t};m(c),O(a).then(({data:o,status:s})=>{s===201&&d(o.message,"OK")}).catch(o=>{o.response.status===409?d("Subscription already exists!"):d(o.message,"ERROR")}).finally(()=>{C.reset(),f(c)})}function d(e,t="info"){t==="OK"?i.success({position:"topCenter",message:e}):t==="ERROR"?i.error({position:"topCenter",message:e}):i.info({position:"topCenter",message:e})}
//# sourceMappingURL=commonHelpers2.js.map
