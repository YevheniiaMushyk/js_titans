import"./assets/scroll_to_top-41a4fc96.js";import{a as l,i}from"./assets/vendor-8cce9181.js";const B=document.querySelector(".header__button"),C=document.querySelector(".modal__button_close"),b=document.querySelector(".modal");B.addEventListener("click",()=>{b.showModal()});C.addEventListener("click",()=>{b.close()});const m={quoteText:document.querySelector(".quote-card-text"),quoteAuthor:document.querySelector(".quote-card-author")},R="https://energyflow.b.goit.study/api/quote";async function v(t){try{const e=localStorage.getItem("quoteLocalData");if(e){const n=JSON.parse(e),L=p();if(n.date===L){g(n.author,n.quote);return}}const a=(await l.get(t)).data;if(a){const n={quote:a.quote,author:a.author,date:p()};localStorage.setItem("quoteLocalData",JSON.stringify(n)),g(n.author,n.quote)}}catch(e){i.error(e)}}function p(){const t=new Date,e=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return`${e}-${s}-${a}`}function g(t,e){m.quoteAuthor.textContent=t,m.quoteText.textContent=e}v(R);const o={buttons:document.querySelector(".exercises-buttons"),musclesButton:document.querySelector('[data-filter="muscles"]'),bodypartButton:document.querySelector('[data-filter="bodypart"]'),equipmentButton:document.querySelector('[data-filter="equipment"]'),cardContainer:document.querySelector(".card-container"),pagination:document.querySelector("#pagination")},E=document.querySelector(".exercises-search-form"),w=document.querySelector(".loader");let c=null;l.defaults.baseURL="https://energyflow.b.goit.study/api";const r={filter:"Muscles",page:1,perPage:12,totalPages:1,totalItems:0};async function q(){return d(!0),(await l.get("/filters",{params:{filter:r.filter,page:r.page,limit:r.perPage}})).data}function h(t){o.cardContainer.innerHTML="";const e=t.map(({name:s,filter:a,imgUrl:n})=>`<li class="card-item">
        <a href="">
        <img class="card-image" src="${n}" alt="Card Image">
            <ul class="card-item-desc"="${s}">
                <li class="name">${s}</li>
                <li class="filter">${a}</li>
            </ul>
        </a>
    </li>`).join("");o.cardContainer.innerHTML=e,d(!1)}function S(){r.page=1,q().then(t=>{const{results:e,page:s,totalPages:a}=t;if(h(e),a>1){const n=T(s,a);o.pagination.innerHTML=n}}).catch(t=>{O(t.message,"ERROR")}).finally(()=>{d(!1)})}S();o.musclesButton.classList.add("active");o.musclesButton.disabled=!0;o.buttons.addEventListener("click",t=>{D(t);const e=t.target;e!==t.currentTarget&&(e===o.musclesButton?(o.musclesButton.disabled=!0,o.bodypartButton.disabled=!1,o.equipmentButton.disabled=!1,r.filter="Muscles"):e===o.bodypartButton?(o.musclesButton.disabled=!1,o.bodypartButton.disabled=!0,o.equipmentButton.disabled=!1,r.filter="Body parts"):e===o.equipmentButton&&(o.musclesButton.disabled=!1,o.bodypartButton.disabled=!1,o.equipmentButton.disabled=!0,r.filter="Equipment"),S())});function D(t){const e=t.target.nodeName==="BUTTON";o.musclesButton.classList.remove("active"),e&&(t.target.classList.add("active"),c!==null&&c.classList.remove("active"),c=t.target,c!==null&&c.classList.add("active"))}o.pagination.addEventListener("click",$);function T(t,e){let s="";for(;t<=e;t++)s+=`<button class="pag-btn" type="button">${t}</button>`;return s}async function $(t){r.page=t.target.textContent,o.cardContainer.innerHTML="";try{const{results:e}=await q();h(e)}catch(e){console.log(e)}}function d(t=!0){w.style.display=t?"inline-block":"none",E.disabled=t}function O(t,e="info"){e==="OK"?i.success({position:"topCenter",message:t}):e==="ERROR"?i.error({position:"topCenter",message:t}):i.info({position:"topCenter",message:t})}const f=document.querySelector(".footer-form"),x=document.querySelector(".loader");async function M(t){return l.post("https://energyflow.b.goit.study/api/subscription",t)}f.addEventListener("submit",_);function _(t){t.preventDefault();const e=t.currentTarget.email.value.trim().toLowerCase();if(e===""){u("The email field is empty!","ERROR");return}const s={email:e};y("true"),M(s).then(({data:a,status:n})=>{n===201&&u(a.message,"OK")}).catch(a=>{a.response.status===409?u("Subscription already exists!"):u(a.message,"ERROR")}).finally(()=>{f.reset(),y(!1)})}function u(t,e="info"){e==="OK"?i.success({position:"topCenter",message:t}):e==="ERROR"?i.error({position:"topCenter",message:t}):i.info({position:"topCenter",message:t})}function y(t=!0){x.style.display=t?"inline-block":"none",f.disabled=t}
//# sourceMappingURL=commonHelpers2.js.map
