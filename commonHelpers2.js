import"./assets/loader-e700052a.js";import{i,a as g}from"./assets/vendor-db25513e.js";const x=document.querySelector(".header__button"),_=document.querySelector(".modal__button_close"),v=document.querySelector(".modal");x.addEventListener("click",()=>{v.showModal()});_.addEventListener("click",()=>{v.close()});const k=document.getElementById("modal_rating"),D=document.querySelector(".modal_rating_close"),d=document.querySelector(".modal_rating"),h=document.querySelectorAll(".fa-solid"),l=document.querySelector(".modal_rating_digit"),p=document.querySelector(".modal_rating_form");let s=0,B="",E="",f=0;const O="64f389465ae26083f39b19d8";k.addEventListener("click",()=>{s=0,l.textContent=`${s}.0`,d.showModal()});D.addEventListener("click",()=>{s=0,l.textContent=`${s}.0`,p.reset(),d.close()});d.addEventListener("click",t=>{t.target===t.currentTarget&&(s=0,l.textContent=`${s}.0`,p.reset(),d.close())});const P=()=>{l.textContent=`${s}.0`};for(let t=0;t<h.length;t++){const e=h[t];e.addEventListener("mouseenter",()=>{const n=e.dataset.rating;l.textContent=`${n}.0`}),e.addEventListener("mouseleave",P),e.addEventListener("click",()=>{f=e.dataset.rating,s=f,l.textContent=`${f}.0`})}p.addEventListener("submit",M);function M(t){t.preventDefault();const e=t.currentTarget;B=e.elements.email.value,E=e.elements.coment.value,s===0?i.error({message:"Please enter your raiting",position:"topCenter",backgroundColor:"#FF6666"}):A().then(()=>{d.close(),i.info({message:"Thank you for your feedback",position:"topCenter"})}).catch(()=>{i.error({message:"Something wrong. Please try again later!",position:"topCenter"})}).finally(()=>{s=0,l.textContent=`${s}.0`,p.reset()})}function A(){let t={};t.rate=parseInt(f),t.email=B,t.review=E;const e={method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}};return fetch(`https://energyflow.b.goit.study/api/exercises/${O}/rating`,e).then(n=>{if(!n.ok)throw new Error(n.status);return n.json()})}const q={quoteText:document.querySelector(".quote-card-text"),quoteAuthor:document.querySelector(".quote-card-author")},I="https://energyflow.b.goit.study/api/quote";async function F(t){try{const e=localStorage.getItem("quoteLocalData");if(e){const r=JSON.parse(e),w=S();if(r.date===w){C(r.author,r.quote);return}}const a=(await g.get(t)).data;if(a){const r={quote:a.quote,author:a.author,date:S()};localStorage.setItem("quoteLocalData",JSON.stringify(r)),C(r.author,r.quote)}}catch(e){i.error(e)}}function S(){const t=new Date,e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return`${e}-${n}-${a}`}function C(t,e){q.quoteAuthor.textContent=t,q.quoteText.textContent=e}F(I);const o={buttons:document.querySelector(".exercises-buttons"),musclesButton:document.querySelector('[data-filter="muscles"]'),bodypartButton:document.querySelector('[data-filter="bodypart"]'),equipmentButton:document.querySelector('[data-filter="equipment"]'),cardContainer:document.querySelector(".card-container"),pagination:document.querySelector("#pagination")},H=document.querySelector(".exercises-search-form"),N=document.querySelector(".loader");let u=null;g.defaults.baseURL="https://energyflow.b.goit.study/api";const c={filter:"Muscles",page:1,perPage:12,totalPages:1,totalItems:0};async function R(){return y(!0),(await g.get("/filters",{params:{filter:c.filter,page:c.page,limit:c.perPage}})).data}function $(t){o.cardContainer.innerHTML="";const e=t.map(({name:n,filter:a,imgUrl:r})=>`<li class="card-item">
        <a href="">
        <img class="card-image" src="${r}" alt="Card Image">
            <ul class="card-item-desc"="${n}">
                <li class="name">${n}</li>
                <li class="filter">${a}</li>
            </ul>
        </a>
    </li>`).join("");o.cardContainer.innerHTML=e,y(!1)}function T(){c.page=1,R().then(t=>{const{results:e,page:n,totalPages:a}=t;if($(e),a>1){const r=j(n,a);o.pagination.innerHTML=r}}).catch(t=>{K(t.message,"ERROR")}).finally(()=>{y(!1)})}T();o.musclesButton.classList.add("active");o.musclesButton.disabled=!0;o.buttons.addEventListener("click",t=>{U(t);const e=t.target;e!==t.currentTarget&&(e===o.musclesButton?(o.musclesButton.disabled=!0,o.bodypartButton.disabled=!1,o.equipmentButton.disabled=!1,c.filter="Muscles"):e===o.bodypartButton?(o.musclesButton.disabled=!1,o.bodypartButton.disabled=!0,o.equipmentButton.disabled=!1,c.filter="Body parts"):e===o.equipmentButton&&(o.musclesButton.disabled=!1,o.bodypartButton.disabled=!1,o.equipmentButton.disabled=!0,c.filter="Equipment"),T())});function U(t){const e=t.target.nodeName==="BUTTON";o.musclesButton.classList.remove("active"),e&&(t.target.classList.add("active"),u!==null&&u.classList.remove("active"),u=t.target,u!==null&&u.classList.add("active"))}o.pagination.addEventListener("click",J);function j(t,e){let n="";for(;t<=e;t++)n+=`<button class="pag-btn" type="button">${t}</button>`;return n}async function J(t){c.page=t.target.textContent,o.cardContainer.innerHTML="";try{const{results:e}=await R();$(e)}catch(e){console.log(e)}}function y(t=!0){N.style.display=t?"inline-block":"none",H.disabled=t}function K(t,e="info"){e==="OK"?i.success({position:"topCenter",message:t}):e==="ERROR"?i.error({position:"topCenter",message:t}):i.info({position:"topCenter",message:t})}const b=document.querySelector(".footer-form"),Q=document.querySelector(".loader");async function z(t){return g.post("https://energyflow.b.goit.study/api/subscription",t)}b.addEventListener("submit",V);function V(t){t.preventDefault();const e=t.currentTarget.email.value.trim().toLowerCase();if(e===""){m("The email field is empty!","ERROR");return}const n={email:e};L("true"),z(n).then(({data:a,status:r})=>{r===201&&m(a.message,"OK")}).catch(a=>{a.response.status===409?m("Subscription already exists!"):m(a.message,"ERROR")}).finally(()=>{b.reset(),L(!1)})}function m(t,e="info"){e==="OK"?i.success({position:"topCenter",message:t}):e==="ERROR"?i.error({position:"topCenter",message:t}):i.info({position:"topCenter",message:t})}function L(t=!0){Q.style.display=t?"inline-block":"none",b.disabled=t}
//# sourceMappingURL=commonHelpers2.js.map
