{"version":3,"file":"commonHelpers2.js","sources":["../src/js/header.js","../src/js/exercises_sub.js"],"sourcesContent":["const burger = document.querySelector('.header__button');\nconst modal__button_close = document.querySelector('.modal__button_close');\nconst modal = document.querySelector('.modal');\n\nburger.addEventListener('click', () => {\n  modal.showModal();\n});\n\nmodal__button_close.addEventListener('click', () => {\n  modal.close();\n});\n","import iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from \"axios\";\nconst URL = \"https://energyflow.b.goit.study/api/exercises/\";\nconst form = document.querySelector(\".exercises-search-form\");\nconst containerCardsEl = document.querySelector(\".card-container\")\nconst loadMoreBtn = document.querySelector(\".label\");\nconst preloader = document.getElementById(\"preloader\");\nconst queryParams = {\n    name: \"\",\n    page: 1,\n    maxPage: 0,\n    perpage: 9,\n};\nlet currentSearchQuery = \"\";\nconst hiddenClass = \"is-hidden\";\nfunction hide(button) {\n    button.classList.add(hiddenClass);\n}\n\nfunction show(button) {\n    button.classList.remove(hiddenClass);\n}\n\nfunction enable(button, preloader) {\n    preloader.classList.add(hiddenClass);\n    button.disabled = false;\n}\n\nfunction disable(button, preloader) {\n    preloader.classList.remove(hiddenClass);\n    button.disabled = true;\n}\nfunction showLoadingIndicator() {\n    containerCardsEl.innerHTML = '<div class=\"loader\"></div>';\n}\nfunction noResults() {\n    containerCardsEl.innerHTML = '<div class=\"no-results-text\">Unfortunately, no results were found.You may want to consider other search options to find the exercise you are looking for.Our range is wide and you have the opportunity to find more options that suit your needs.</div>';\n}\nfunction hideLoadingIndicator() {\n    const loadingElement = containerCardsEl.querySelector('.loader');\n    if (loadingElement) {\n        loadingElement.remove();\n    }\n}\nform.addEventListener(\"submit\", handleSearch);\nasync function handleSearch(event) {\n    event.preventDefault();\n    containerCardsEl.innerHTML = \"\";\n    const form = event.currentTarget;\n    const exercisesCard = form.elements.exercises.value.trim();\n    currentSearchQuery = exercisesCard;\n    queryParams.page = 1;\n    if (exercisesCard === \"\" || exercisesCard == null) {\n        noResults()\n        hide(loadMoreBtn);\n        return;\n    }\n    showLoadingIndicator()\n    try {\n        const { results, totalPages } = await serchPicture(exercisesCard);\n        if (results && results.length > 0) {\n            queryParams.maxPage = Math.ceil(totalPages / queryParams.perpage);\n            createexercisesCard(results, containerCardsEl)\n            if (results && results.length > 0 && results.length !== totalPages) {\n                show(loadMoreBtn);\n                loadMoreBtn.removeEventListener(\"click\", handleLoadMore);\n                loadMoreBtn.addEventListener(\"click\", handleLoadMore);\n            } else {\n                hide(loadMoreBtn);\n            }\n        } else {\n            containerCardsEl.innerHTML = \"\";\n            noResults()\n            hide(loadMoreBtn);\n        }\n    }\n    catch (err) {\n        console.log(err);\n    }\n    finally {\n        hideLoadingIndicator();\n        form.reset()\n    };\n}\nfunction serchPicture(exercisesCard, page = 1) {\n    return axios.get(URL, {\n        params: {\n            muscles: \"delts\",\n            keyword: exercisesCard,\n            perpage: 9,\n            page,\n        }\n    }).then((res) => {\n        return res.data;\n    });\n}\nasync function handleLoadMore() {\n    queryParams.page += 1;\n    disable(loadMoreBtn, preloader);\n    try {\n        const { results } = await serchPicture(currentSearchQuery, queryParams.page)\n        createexercisesCard(results, containerCardsEl)\n    } catch (err) {\n        console.log(err);\n    } finally {\n        enable(loadMoreBtn, preloader);\n        if (queryParams.page >= queryParams.maxPage) {\n            hide(loadMoreBtn);\n            iziToast.error({\n                title: \"Error\",\n                message: `\"We're sorry, but you've reached the end of search results.\"`,\n            })\n            loadMoreBtn.removeEventListener(\"click\", handleLoadMore);\n        } else {\n            show(loadMoreBtn);\n            loadMoreBtn.removeEventListener(\"click\", handleLoadMore);\n            loadMoreBtn.addEventListener(\"click\", handleLoadMore);\n        }\n    }\n}\nfunction createexercisesCard(results, containerCardsEl) {\n    const markup = results.map(({ rating, name, burnedCalories, bodyPart, target }) => `\n    <li class=\"exercises-item\"><a href=\"#\" class=\"exercises-item__link\">\n            <div class=\"exercises-sub-title\">\n                <div class=\"exercises__workout-rating\"><p class=\"exercises-workout\">workout</p>\n                    <span class=\"exercises-rating\"><span class=\"exercises-rating__text\">${String(rating).padEnd(3, '.0')}</span><svg class=\"exercises-rating__svg\" width=\"18\" height=\"18\">\n                            <use href=\"../img/icons.svg#icon-star_yellow\"></use>\n                        </svg></span>\n                </div>\n                <div class=\"exercises-start\"><span class=\"exercises-start__text\">Start</span><svg\n                        class=\"exercises-start__svg\" width=\"13\" height=\"13\" stroke=\"rgb(27, 27, 27)\">\n                        <use href=\"../img/icons.svg#icon-arrow\"></use>\n                    </svg></div>\n            </div>\n            <div class=\"exercises-title\">\n                <svg class=\"exercises-title__svg\" width=\"24\" height=\"24\">\n                    <use href=\"../img/icons.svg#icon-fav_run_man\"></use>\n                </svg>\n                <span class=\"exercises-title-text\">${name}</span>\n            </div>\n            <div class=\"exercises-text\">\n                <p class=\"exercises-text__content\"><span class=\"exercises-text__static\">Burned calories:</span>\n                    <span class=\"exercises-text__dynamic\">${burnedCalories} / 3 min</span></p>\n                <p class=\"exercises-text__content\"><span class=\"exercises-text__static\">Body part:</span>\n                    <span class=\"exercises-text__dynamic\">${bodyPart}</span></p>\n                <p class=\"exercises-text__content\"><span class=\"exercises-text__static\">Target:</span>\n                    <span class=\"exercises-text__dynamic\">${target}</span></p>\n            </div>\n        </a>\n    </li>`).join(\"\");\n    containerCardsEl.innerHTML = markup;\n}"],"names":["burger","modal__button_close","modal","URL","form","containerCardsEl","loadMoreBtn","preloader","queryParams","currentSearchQuery","hiddenClass","hide","button","show","enable","disable","showLoadingIndicator","noResults","hideLoadingIndicator","loadingElement","handleSearch","event","exercisesCard","results","totalPages","serchPicture","createexercisesCard","handleLoadMore","err","page","axios","res","iziToast","markup","rating","name","burnedCalories","bodyPart","target"],"mappings":"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"}