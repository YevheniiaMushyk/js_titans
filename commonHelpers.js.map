{"version":3,"file":"commonHelpers.js","sources":["../src/js/favorites.js","../src/js/favorites_quote.js","../src/js/favorites_list.js"],"sourcesContent":["const favburger = document.querySelector('.favheader__button');\nconst favmodal__button_close = document.querySelector(\n  '.favmodal__button_close'\n);\nconst favmodal = document.querySelector('.favmodal');\n\nfavburger.addEventListener('click', () => {\n  favmodal.showModal();\n});\n\nfavmodal__button_close.addEventListener('click', () => {\n  favmodal.close();\n});\n","import axios from 'axios';\nimport iziToast from 'izitoast';\n\nconst refs = {\n  quoteText: document.querySelector('.favorites-text'),\n  quoteAuthor: document.querySelector('.favorites-sub-title'),\n};\n\nconst BASE_URL = 'https://energyflow.b.goit.study/api/quote';\n\nasync function fetchQuoteData(url) {\n  try {\n    const savedLocalData = localStorage.getItem('quoteLocalData');\n    if (savedLocalData) {\n      const parsedLocalData = JSON.parse(savedLocalData);\n      const currentDate = getCurrentDate();\n      if (parsedLocalData.date === currentDate) {\n        renderQuoteCard(parsedLocalData.author, parsedLocalData.quote);\n        return;\n      }\n    }\n\n    const response = await axios.get(url);\n    const data = response.data;\n\n    if (data) {\n      const quoteData = {\n        quote: data.quote,\n        author: data.author,\n        date: getCurrentDate(),\n      };\n      localStorage.setItem('quoteLocalData', JSON.stringify(quoteData));\n      renderQuoteCard(quoteData.author, quoteData.quote);\n    }\n  } catch (error) {\n    iziToast.error('Failed to fetch quote data');\n    console.error(error);\n  }\n}\n\nfunction getCurrentDate() {\n  const date = new Date();\n  const day = String(date.getDate()).padStart(2, '0');\n  const month = String(date.getMonth() + 1).padStart(2, '0');\n  const year = date.getFullYear();\n  return `${day}-${month}-${year}`;\n}\n\nfunction renderQuoteCard(author, quote) {\n  refs.quoteAuthor.textContent = author;\n  refs.quoteText.textContent = quote;\n}\n\nfetchQuoteData(BASE_URL);\n","import axios from 'axios';\n\nconst API_URL = 'https://energyflow.b.goit.study/api/exercises/';\nconst list = document.querySelector('.workouts-list');\n\nfunction fetchWorkoutById(workoutId) {\n  return axios.get(`${API_URL}/${workoutId}`);\n}\n\nlet isFirstLoad = true;\n\nconst storedWorkoutIds = JSON.parse(localStorage.getItem('workoutId')) || [];\n\nif (storedWorkoutIds.length > 0) {\n  storedWorkoutIds.forEach(workoutId => {\n    fetchWorkoutById(workoutId)\n      .then(response => {\n        const workoutData = response.data;\n        addWorkoutCardToDOM(workoutData);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  });\n} else {\n  showEmptyMessage();\n}\n\nfunction addNewWorkoutById(workoutId) {\n  const storedWorkoutIds = JSON.parse(localStorage.getItem('workoutId')) || [];\n  if (!storedWorkoutIds.includes(workoutId)) {\n    fetchWorkoutById(workoutId)\n      .then(response => {\n        const workoutData = response.data;\n        addWorkoutCardToDOM(workoutData);\n\n        storedWorkoutIds.push(workoutId);\n        localStorage.setItem('workoutId', JSON.stringify(storedWorkoutIds));\n\n        isFirstLoad = false;\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }\n}\n\n// addNewWorkoutById();\n\n// const exampleWorkoutId1 = '64f389465ae26083f39b17a2';\n// const exampleWorkoutId2 = '64f389465ae26083f39b17a5';\n// const exampleWorkoutId3 = '64f389465ae26083f39b17a6';\n// const exampleWorkoutId4 = '64f389465ae26083f39b19d8';\n// const exampleWorkoutId5 = '64f389465ae26083f39b1b1a';\n// const exampleWorkoutId6 = '64f389465ae26083f39b1996';\n// const exampleWorkoutId7 = '64f389465ae26083f39b180e';\n// const exampleWorkoutId8 = '64f389465ae26083f39b198b';\n// const exampleWorkoutId9 = '64f389465ae26083f39b19b3';\n// const exampleWorkoutId10 = '64f389465ae26083f39b1987';\n\n// addNewWorkoutById(exampleWorkoutId1);\n// addNewWorkoutById(exampleWorkoutId2);\n// addNewWorkoutById(exampleWorkoutId3);\n// addNewWorkoutById(exampleWorkoutId4);\n// addNewWorkoutById(exampleWorkoutId5);\n// addNewWorkoutById(exampleWorkoutId6);\n// addNewWorkoutById(exampleWorkoutId7);\n// addNewWorkoutById(exampleWorkoutId8);\n// addNewWorkoutById(exampleWorkoutId9);\n// addNewWorkoutById(exampleWorkoutId10);\n\nfunction addWorkoutCardToDOM(workoutData) {\n  const workoutCardMarkup = createWorkoutCardMarkup(workoutData);\n  list.insertAdjacentHTML('beforeend', workoutCardMarkup);\n  addRemoveButtonEventListener(workoutData);\n}\n\nfunction addRemoveButtonEventListener(workoutData) {\n  const removeButtons = document.querySelectorAll(`.workout-card__remove-btn`);\n  removeButtons.forEach(removeButton => {\n    if (removeButton.getAttribute('data-workout-id') === workoutData._id) {\n      removeButton.addEventListener('click', () => {\n        removeWorkoutCardFromDOM(removeButton, workoutData._id);\n      });\n    }\n  });\n}\n\nfunction removeWorkoutCardFromDOM(removeButton, workoutId) {\n  removeButton.closest('.exercises-item').remove();\n\n  const storedWorkoutIds = JSON.parse(localStorage.getItem('workoutId')) || [];\n  const updatedStoredWorkoutIds = storedWorkoutIds.filter(\n    id => id !== workoutId\n  );\n  localStorage.setItem('workoutId', JSON.stringify(updatedStoredWorkoutIds));\n\n  if (updatedStoredWorkoutIds.length === 0) {\n    localStorage.removeItem('workoutId');\n    showEmptyMessage();\n  }\n}\n\nfunction createWorkoutCardMarkup(workoutData) {\n  return `\n    <li class=\"exercises-item\">\n      <div class=\"exercises-sub-title\">\n        <div class=\"exercises__workout-rating\">\n          <p class=\"exercises-workout\">workout</p>\n          <button class=\"workout-card__remove-btn\" data-workout-id=\"${workoutData._id}\">\n            <svg class=\"workout-card__icon\" width=\"16\" height=\"16\">\n              <use href=\"./img/icons.svg#icon-trash\"></use>\n            </svg>\n          </button>\n        </div>\n        <a href=\"./modal_video.js\" class=\"exercises-item__link\">\n          <div class=\"exercises-start\">\n            <span class=\"exercises-start__text\">Start</span>\n            <svg class=\"exercises-start__svg\" width=\"13\" height=\"13\" stroke=\"rgb(27, 27, 27)\">\n              <use href=\"./img/icons.svg#icon-arrow\"></use>\n            </svg>\n          </div>\n        </a>\n      </div>\n      <div class=\"exercises-title\">\n        <svg class=\"exercises-title__svg\" width=\"24\" height=\"24\">\n          <use href=\"./img/icons.svg#icon-fav_run_man\"></use>\n        </svg>\n        <span class=\"exercises-title-text\">${workoutData.name}</span>\n      </div>\n      <div class=\"exercises-text\">\n        <p class=\"exercises-text__content\">\n          <span class=\"exercises-text__static\">Burned calories:</span>\n          <span class=\"exercises-text__dynamic\">${workoutData.burnedCalories} / 3 min</span>\n        </p>\n        <p class=\"exercises-text__content\">\n          <span class=\"exercises-text__static\">Body part:</span>\n          <span class=\"exercises-text__dynamic\">${workoutData.bodyPart}</span>\n        </p>\n        <p class=\"exercises-text__content\">\n          <span class=\"exercises-text__static\">Target:</span>\n          <span class=\"exercises-text__dynamic\">${workoutData.target}</span>\n        </p>\n      </div>\n    </li>\n  `;\n}\n\nfunction showEmptyMessage() {\n  if (!isFirstLoad) {\n    list.innerHTML = `\n    <div class=\"empty-list\">\n      <img class=\"empty-item\"\n        srcset=\"./img/dumbbell@1x-min.png 1x, ./img/dumbbell@1x-min.png 2x\"\n        src=\"./img/dumbbell@1x-min.png\"\n        alt=\"dumbbell\"\n        width=\"85\"\n        height=\"52\"\n      />\n      <p class=\"empty-message\">\n        It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.\n      </p>\n    </div>`;\n  }\n}\n"],"names":["favburger","favmodal__button_close","favmodal","refs","BASE_URL","fetchQuoteData","url","savedLocalData","parsedLocalData","currentDate","getCurrentDate","renderQuoteCard","data","axios","quoteData","error","iziToast","date","day","month","year","author","quote","API_URL","list","fetchWorkoutById","workoutId","storedWorkoutIds","response","workoutData","addWorkoutCardToDOM","workoutCardMarkup","createWorkoutCardMarkup","addRemoveButtonEventListener","removeButton","removeWorkoutCardFromDOM","updatedStoredWorkoutIds","id"],"mappings":"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"}