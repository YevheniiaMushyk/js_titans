{"version":3,"file":"commonHelpers.js","sources":["../src/js/favorites.js","../src/js/favorites_list.js"],"sourcesContent":["const favburger = document.querySelector('.favheader__button');\nconst favmodal__button_close = document.querySelector(\n  '.favmodal__button_close'\n);\nconst favmodal = document.querySelector('.favmodal');\n\nfavburger.addEventListener('click', () => {\n  favmodal.showModal();\n});\n\nfavmodal__button_close.addEventListener('click', () => {\n  favmodal.close();\n});\n","import axios from 'axios';\n\nconst API_URL = 'https://energyflow.b.goit.study/api/exercises/';\nconst list = document.querySelector('.workouts-list');\n\nfunction fetchWorkoutById(workoutId) {\n  return axios.get(`${API_URL}/${workoutId}`);\n}\n\nlet isFirstLoad = true;\n\nconst storedWorkoutIds = JSON.parse(localStorage.getItem('workoutId')) || [];\n\nif (storedWorkoutIds.length > 0) {\n  storedWorkoutIds.forEach(workoutId => {\n    fetchWorkoutById(workoutId)\n      .then(response => {\n        const workoutData = response.data;\n        addWorkoutCardToDOM(workoutData);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  });\n} else {\n  showEmptyMessage();\n}\n\nfunction addNewWorkoutById(workoutId) {\n  const storedWorkoutIds = JSON.parse(localStorage.getItem('workoutId')) || [];\n  if (!storedWorkoutIds.includes(workoutId)) {\n    fetchWorkoutById(workoutId)\n      .then(response => {\n        const workoutData = response.data;\n        addWorkoutCardToDOM(workoutData);\n\n        storedWorkoutIds.push(workoutId);\n        localStorage.setItem('workoutId', JSON.stringify(storedWorkoutIds));\n\n        isFirstLoad = false;\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }\n}\n\n// addNewWorkoutById();\n\n// const exampleWorkoutId1 = '64f389465ae26083f39b17a2';\n// const exampleWorkoutId2 = '64f389465ae26083f39b17a5';\n// const exampleWorkoutId3 = '64f389465ae26083f39b17a6';\n// const exampleWorkoutId4 = '64f389465ae26083f39b19d8';\n// const exampleWorkoutId5 = '64f389465ae26083f39b1b1a';\n// const exampleWorkoutId6 = '64f389465ae26083f39b1996';\n// const exampleWorkoutId7 = '64f389465ae26083f39b180e';\n// const exampleWorkoutId8 = '64f389465ae26083f39b198b';\n// const exampleWorkoutId9 = '64f389465ae26083f39b19b3';\n// const exampleWorkoutId10 = '64f389465ae26083f39b1987';\n\n// addNewWorkoutById(exampleWorkoutId1);\n// addNewWorkoutById(exampleWorkoutId2);\n// addNewWorkoutById(exampleWorkoutId3);\n// addNewWorkoutById(exampleWorkoutId4);\n// addNewWorkoutById(exampleWorkoutId5);\n// addNewWorkoutById(exampleWorkoutId6);\n// addNewWorkoutById(exampleWorkoutId7);\n// addNewWorkoutById(exampleWorkoutId8);\n// addNewWorkoutById(exampleWorkoutId9);\n// addNewWorkoutById(exampleWorkoutId10);\n\nfunction addWorkoutCardToDOM(workoutData) {\n  const workoutCardMarkup = createWorkoutCardMarkup(workoutData);\n  list.insertAdjacentHTML('beforeend', workoutCardMarkup);\n  addRemoveButtonEventListener(workoutData);\n}\n\nfunction addRemoveButtonEventListener(workoutData) {\n  const removeButtons = document.querySelectorAll(`.workout-card__remove-btn`);\n  removeButtons.forEach(removeButton => {\n    if (removeButton.getAttribute('data-workout-id') === workoutData._id) {\n      removeButton.addEventListener('click', () => {\n        removeWorkoutCardFromDOM(removeButton, workoutData._id);\n      });\n    }\n  });\n}\n\nfunction removeWorkoutCardFromDOM(removeButton, workoutId) {\n  removeButton.closest('.exercises-item').remove();\n\n  const storedWorkoutIds = JSON.parse(localStorage.getItem('workoutId')) || [];\n  const updatedStoredWorkoutIds = storedWorkoutIds.filter(\n    id => id !== workoutId\n  );\n  localStorage.setItem('workoutId', JSON.stringify(updatedStoredWorkoutIds));\n\n  if (updatedStoredWorkoutIds.length === 0) {\n    localStorage.removeItem('workoutId');\n    showEmptyMessage();\n  }\n}\n\nfunction createWorkoutCardMarkup(workoutData) {\n  return `\n    <li class=\"exercises-item\">\n      <div class=\"exercises-sub-title\">\n        <div class=\"exercises__workout-rating\">\n          <p class=\"exercises-workout\">workout</p>\n          <button class=\"workout-card__remove-btn\" data-workout-id=\"${workoutData._id}\">\n            <svg class=\"workout-card__icon\" width=\"16\" height=\"16\">\n              <use href=\"./img/icons.svg#icon-trash\"></use>\n            </svg>\n          </button>\n        </div>\n        <a href=\"./modal_video.js\" class=\"exercises-item__link\">\n          <div class=\"exercises-start\">\n            <span class=\"exercises-start__text\">Start</span>\n            <svg class=\"exercises-start__svg\" width=\"13\" height=\"13\" stroke=\"rgb(27, 27, 27)\">\n              <use href=\"./img/icons.svg#icon-arrow\"></use>\n            </svg>\n          </div>\n        </a>\n      </div>\n      <div class=\"exercises-title\">\n        <svg class=\"exercises-title__svg\" width=\"24\" height=\"24\">\n          <use href=\"./img/icons.svg#icon-fav_run_man\"></use>\n        </svg>\n        <span class=\"exercises-title-text\">${workoutData.name}</span>\n      </div>\n      <div class=\"exercises-text\">\n        <p class=\"exercises-text__content\">\n          <span class=\"exercises-text__static\">Burned calories:</span>\n          <span class=\"exercises-text__dynamic\">${workoutData.burnedCalories} / 3 min</span>\n        </p>\n        <p class=\"exercises-text__content\">\n          <span class=\"exercises-text__static\">Body part:</span>\n          <span class=\"exercises-text__dynamic\">${workoutData.bodyPart}</span>\n        </p>\n        <p class=\"exercises-text__content\">\n          <span class=\"exercises-text__static\">Target:</span>\n          <span class=\"exercises-text__dynamic\">${workoutData.target}</span>\n        </p>\n      </div>\n    </li>\n  `;\n}\n\nfunction showEmptyMessage() {\n  if (!isFirstLoad) {\n    list.innerHTML = `\n    <div class=\"empty-list\">\n      <img class=\"empty-item\"\n        srcset=\"./img/dumbbell@1x-min.png 1x, ./img/dumbbell@1x-min.png 2x\"\n        src=\"./img/dumbbell@1x-min.png\"\n        alt=\"dumbbell\"\n        width=\"85\"\n        height=\"52\"\n      />\n      <p class=\"empty-message\">\n        It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.\n      </p>\n    </div>`;\n  }\n}\n"],"names":["favburger","favmodal__button_close","favmodal","API_URL","list","fetchWorkoutById","workoutId","axios","storedWorkoutIds","response","workoutData","addWorkoutCardToDOM","error","workoutCardMarkup","createWorkoutCardMarkup","addRemoveButtonEventListener","removeButton","removeWorkoutCardFromDOM","updatedStoredWorkoutIds","id"],"mappings":"oFAAA,MAAMA,EAAY,SAAS,cAAc,oBAAoB,EACvDC,EAAyB,SAAS,cACtC,yBACF,EACMC,EAAW,SAAS,cAAc,WAAW,EAEnDF,EAAU,iBAAiB,QAAS,IAAM,CACxCE,EAAS,UAAS,CACpB,CAAC,EAEDD,EAAuB,iBAAiB,QAAS,IAAM,CACrDC,EAAS,MAAK,CAChB,CAAC,ECVD,MAAMC,EAAU,iDACVC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,SAASC,EAAiBC,EAAW,CACnC,OAAOC,EAAM,IAAI,GAAGJ,CAAO,IAAIG,CAAS,EAAE,CAC5C,CAIA,MAAME,EAAmB,KAAK,MAAM,aAAa,QAAQ,WAAW,CAAC,GAAK,GAEtEA,EAAiB,OAAS,GAC5BA,EAAiB,QAAQF,GAAa,CACpCD,EAAiBC,CAAS,EACvB,KAAKG,GAAY,CAChB,MAAMC,EAAcD,EAAS,KAC7BE,EAAoBD,CAAW,CACvC,CAAO,EACA,MAAME,GAAS,CACd,QAAQ,MAAMA,CAAK,CAC3B,CAAO,CACP,CAAG,EAgDH,SAASD,EAAoBD,EAAa,CACxC,MAAMG,EAAoBC,EAAwBJ,CAAW,EAC7DN,EAAK,mBAAmB,YAAaS,CAAiB,EACtDE,EAA6BL,CAAW,CAC1C,CAEA,SAASK,EAA6BL,EAAa,CAC3B,SAAS,iBAAiB,2BAA2B,EAC7D,QAAQM,GAAgB,CAChCA,EAAa,aAAa,iBAAiB,IAAMN,EAAY,KAC/DM,EAAa,iBAAiB,QAAS,IAAM,CAC3CC,EAAyBD,EAAcN,EAAY,GAAG,CAC9D,CAAO,CAEP,CAAG,CACH,CAEA,SAASO,EAAyBD,EAAcV,EAAW,CACzDU,EAAa,QAAQ,iBAAiB,EAAE,OAAM,EAG9C,MAAME,GADmB,KAAK,MAAM,aAAa,QAAQ,WAAW,CAAC,GAAK,IACzB,OAC/CC,GAAMA,IAAOb,CACjB,EACE,aAAa,QAAQ,YAAa,KAAK,UAAUY,CAAuB,CAAC,EAErEA,EAAwB,SAAW,GACrC,aAAa,WAAW,WAAW,CAGvC,CAEA,SAASJ,EAAwBJ,EAAa,CAC5C,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,sEAK6DA,EAAY,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAmBxCA,EAAY,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,kDAKXA,EAAY,cAAc;AAAA;AAAA;AAAA;AAAA,kDAI1BA,EAAY,QAAQ;AAAA;AAAA;AAAA;AAAA,kDAIpBA,EAAY,MAAM;AAAA;AAAA;AAAA;AAAA,GAKpE"}