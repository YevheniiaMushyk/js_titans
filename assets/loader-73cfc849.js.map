{"version":3,"file":"loader-73cfc849.js","sources":["../../src/js/modal_video.js","../../src/js/scroll_to_top.js","../../src/js/loader.js"],"sourcesContent":["import iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\nconst URL = 'https://energyflow.b.goit.study/api/exercises/';\n\n// Отримуємо необхідні елементи модального вікна \nconst modal = document.getElementById('modal'); \nconst modalContent = modal.querySelector('.modal-content'); \nconst closeBtn = modal.querySelector('.close'); \nconst gifElement = modal.querySelector('.exercise-gif'); \nconst exerciseTitle = modal.querySelector('.exercise-title'); \nconst ratingStars = modal.querySelectorAll('.exercise-star'); \nconst targetElement = modal.querySelector('.exercise-target'); \nconst bodypartsElement = modal.querySelector('.exercise-bodyparts'); \nconst equipmentElement = modal.querySelector('.exercise-equipment'); \nconst popularElement = modal.querySelector('.exercise-popular'); \nconst caloriesElement = modal.querySelector('.exercise-calories'); \nconst descriptionElement = modal.querySelector('.exercise-description'); \nconst favoriteButton = modal.querySelector('.favorite-button'); \nconst ratingButton = document.querySelector('.rating-button'); \nconst ratingNumberElement = document.querySelector('.rating-number');\n\n// Отримуємо доступ до модалки з рейтингом\nconst modalRating = document.querySelector('.modal_rating');\n\nconst FAVORITES_KEY_LOCAL_STORAGE = 'ENERGY_FLOW_FAVORITES_KEY'; \n\n// Відкриття модального вікна по кнопці \"start\"\nexport function openExerciseModal(event) {\n    const exerciseItem = event.target.closest('.exercises-item'); \n    if (!exerciseItem) { \n        return; \n    } \n    const exerciseData = getExerciseData(exerciseItem); \n    fillModalWithData(exerciseData); \n    modal.style.display = 'block'; \n}\n\n// Закриття модального вікна при кліку на хрестик \ncloseBtn.addEventListener('click', () => { \n    modal.style.display = 'none'; \n}); \n\n// Закриття модального вікна при кліку за межами вікна \nwindow.addEventListener('click', event => { \n    if (event.target === modal) { \n        modal.style.display = 'none'; \n    } \n}); \n\n// Закриття модального вікна при натисканні клавіші Esc \nwindow.addEventListener('keydown', event => { \n    if (event.key === 'Escape') { \n        modal.style.display = 'none'; \n    } \n}); \n\n// Відкриття модального вікна з рейтингом \nwindow.addEventListener('click', event => { \n    if (!ratingButton) { \n        return; \n    } \n    if (!modalRating) { \n        return; \n    } \n    modalRating.dataset.id = modal.dataset.id; \n}); \n\n// Кнопка \"Add to favorites\" \nexport function getFavorites() { \n    const favorites = window.localStorage.getItem(FAVORITES_KEY_LOCAL_STORAGE); \n    return favorites && favorites !== 'undefined' ? JSON.parse(favorites) : []; \n} \n\nfunction setFavorites(id) { \n    const favorites = getFavorites(); \n    const updFavorites = favorites.length ? [...favorites, id] : [id]; \n    window.localStorage.setItem(FAVORITES_KEY_LOCAL_STORAGE, JSON.stringify(updFavorites)); \n} \n\nfunction checkFavorites(id) { \n    const favorites = getFavorites(); \n    return !!favorites.find(el => el === id); \n} \n\nfunction drawFavoritesBtnText(id) { \n    const favorite = checkFavorites(id); \n    const favoriteBtnText = favorite ? 'Remove from' : 'Add to favorites'; \n    favoriteButton.innerHTML = `${favoriteBtnText}  \n        <svg class=\"modal_icon\" width=\"13\" height=\"15\">  \n            <use href=\"./img/icons.svg#icon-heart\"></use>  \n        </svg>`; \n} \n\nexport function deleteFavorites(id) { \n    const favorites = getFavorites(); \n    const updFavorites = favorites.filter(el => el !== id); \n    window.localStorage.setItem(FAVORITES_KEY_LOCAL_STORAGE, JSON.stringify(updFavorites)); \n} \n\nfavoriteButton.addEventListener('click', event => { \n    if (!modal) { \n        console.log(modal);\n        return; \n    } \n    const id = modal.dataset.id; \n    const favorite = checkFavorites(id); \n    if (favorite) { \n        deleteFavorites(id); \n    } else { \n        setFavorites(id); \n    } \n    drawFavoritesBtnText(id); \n}); \n\n// Функція для отримання даних вправи з HTML-структури \nfunction getExerciseData(exerciseItem) { \n    const titleElement = exerciseItem.querySelector('.exercises-title-text'); \n    const burnedCaloriesElement = exerciseItem.querySelector('.exercises-text__dynamic'); \n    const bodyPartElement = exerciseItem.querySelectorAll('.exercises-text__dynamic')[1]; \n    const targetElement = exerciseItem.querySelectorAll('.exercises-text__dynamic')[2]; \n    const ratingElement = exerciseItem.querySelector('.exercises-rating__text'); \n\n    const { gifurl, description, equipment, popularity, id } = exerciseItem.dataset; \n\n    return { \n        title: capitalizeFirstLetter(titleElement.textContent), \n        burnedCalories: burnedCaloriesElement.textContent, \n        bodyPart: bodyPartElement.textContent, \n        target: targetElement.textContent, \n        rating: ratingElement.textContent, \n        gifUrl: gifurl, \n        description, \n        equipment, \n        popularity, \n        _id: id, \n    }; \n} \n\n// Функція для заповнення модального вікна даними про вправу \nfunction fillModalWithData(exerciseData) { \n    gifElement.src = exerciseData.gifUrl; \n    gifElement.alt = exerciseData.title; \n\n    ratingNumberElement.textContent = exerciseData.rating;\n\n    // Заповнюємо зірочки рейтингу \n    const rating = parseFloat(exerciseData.rating); \n    \n    document.querySelectorAll(\".yellow-star\").forEach((element, index) => {\n        const truncRating = Math.trunc(rating);\n        const currentStarRating = (index+1) <= truncRating ? 100: (index+1) > Math.ceil(rating) ? 0: (rating - truncRating) * 100;\n        element.style.width = `${currentStarRating}%`;\n    });\n\n    exerciseTitle.textContent = exerciseData.title; \n    targetElement.textContent = exerciseData.target; \n    bodypartsElement.textContent = exerciseData.bodyPart; \n    equipmentElement.textContent = exerciseData.equipment; \n    popularElement.textContent = exerciseData.popularity; \n    caloriesElement.textContent = exerciseData.burnedCalories; \n    descriptionElement.textContent = exerciseData.description; \n    modal.dataset.id = exerciseData._id; \n\n    drawFavoritesBtnText(exerciseData._id); \n} \n\n// Функція для зроблення першої букви великою\nfunction capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nexport { modal };","let toTop = document.getElementById('toTop');\ntoTop.style.display = 'none';\nwindow.addEventListener('scroll', () => {\n  if (window.scrollY > 100) {\n    toTop.style.display = 'block';\n  } else {\n    toTop.style.display = 'none';\n  }\n});\n\ntoTop.onclick = function () {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n};\n","// отримуємо доступ до елементу\nconst loader = document.getElementById('loader');\n\n//функія для активації loader\nfunction activeLoader(loader) {\n  loader.classList.remove('loader_hidden');\n}\n\n//функція для деактивації loader\nfunction disactiveLoader(loader) {\n  loader.classList.add('loader_hidden');\n}\n\n// список експортованих змінних\nexport { loader, activeLoader, disactiveLoader };\n"],"names":["modal","closeBtn","gifElement","exerciseTitle","targetElement","bodypartsElement","equipmentElement","popularElement","caloriesElement","descriptionElement","favoriteButton","ratingButton","ratingNumberElement","modalRating","FAVORITES_KEY_LOCAL_STORAGE","openExerciseModal","event","exerciseItem","exerciseData","getExerciseData","fillModalWithData","getFavorites","favorites","setFavorites","id","updFavorites","checkFavorites","el","drawFavoritesBtnText","favoriteBtnText","deleteFavorites","titleElement","burnedCaloriesElement","bodyPartElement","ratingElement","gifurl","description","equipment","popularity","capitalizeFirstLetter","rating","element","index","truncRating","currentStarRating","string","toTop"],"mappings":"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"}