import{a as $,i as F}from"./vendor-8cce9181.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();let p=document.getElementById("toTop");p.style.display="none";window.addEventListener("scroll",()=>{window.scrollY>100?p.style.display="block":p.style.display="none"});p.onclick=function(){window.scrollTo({top:0,behavior:"smooth"})};document.getElementById("loader");const A="https://energyflow.b.goit.study/api/exercises/",I=document.querySelector(".exercises-search-form"),a=document.querySelector(".exercises-card-container"),c=document.querySelector(".label"),w=document.getElementById("preloader"),d={name:"",page:1,maxPage:0,perpage:9};let q="";const g="is-hidden";function f(e){e.classList.add(g)}function b(e){e.classList.remove(g)}function H(e,t){t.classList.add(g),e.disabled=!1}function N(e,t){t.classList.remove(g),e.disabled=!0}function R(){a.innerHTML='<div class="loader"></div>'}function E(){a.innerHTML='<div class="no-results-text">Unfortunately, no results were found.You may want to consider other search options to find the exercise you are looking for.Our range is wide and you have the opportunity to find more options that suit your needs.</div>'}function U(){const e=a.querySelector(".loader");e&&e.remove()}I.addEventListener("submit",J);async function J(e){e.preventDefault(),a.innerHTML="";const t=e.currentTarget,s=t.elements.exercises.value.trim();if(q=s,d.page=1,s===""||s==null){E(),f(c);return}R();try{const{results:o,totalPages:n}=await C(s);o&&o.length>0?(console.log(o),d.maxPage=Math.ceil(n/d.perpage),k(o,a),o&&o.length>0&&o.length!==n?(b(c),c.removeEventListener("click",u),c.addEventListener("click",u)):f(c)):(a.innerHTML="",E(),f(c))}catch(o){console.log(o)}finally{U(),t.reset()}}function C(e,t=1){return $.get(A,{params:{muscles:"delts",keyword:e,perpage:9,page:t}}).then(s=>s.data)}async function u(){d.page+=1,N(c,w);try{const{results:e}=await C(q,d.page);k(e,a)}catch(e){console.log(e)}finally{H(c,w),d.page>=d.maxPage?(f(c),F.error({title:"Error",message:"We're sorry, but you've reached the end of search results."}),c.removeEventListener("click",u)):(b(c),c.removeEventListener("click",u),c.addEventListener("click",u))}}function k(e,t){const s=e.map(({rating:o,name:n,burnedCalories:i,bodyPart:l,target:y,gifUrl:m,description:v,equipment:x,popularity:B,_id:M})=>`
    <li class="exercises-item" data-gifUrl=${m} data-description="${v}" data-equipment=${x} data-popularity=${B} data-id=${M}>
            <div class="exercises-sub-title">
                <div class="exercises__workout-rating"><p class="exercises-workout">workout</p>
                    <span class="exercises-rating"><span class="exercises-rating__text">${String(o).padEnd(3,".0")}</span><svg class="exercises-rating__svg" width="18" height="18">
                            <use href="../img/icons.svg#icon-star_yellow"></use>
                        </svg></span>
                </div>
                <a href="#" class="exercises-start"><span class="exercises-start__text">Start</span><svg
                        class="exercises-start__svg" width="13" height="13">
                        <use href="../img/icons.svg#icon-arrow"></use>
                    </svg></a>
            </div>
            <div class="exercises-title">
                <svg class="exercises-title__svg" width="24" height="24">
                    <use href="../img/icons.svg#icon-fav_run_man"></use>
                </svg>
                <span class="exercises-title-text">${n}</span>
            </div>
            <div class="exercises-text">
                <p class="exercises-text__content"><span class="exercises-text__static">Burned calories:</span>
                    <span class="exercises-text__dynamic">${i} / 3 min</span></p>
                <p class="exercises-text__content"><span class="exercises-text__static">Body part:</span>
                    <span class="exercises-text__dynamic">${l}</span></p>
                <p class="exercises-text__content"><span class="exercises-text__static">Target:</span>
                    <span class="exercises-text__dynamic">${y}</span></p>
            </div>
    </li>`).join("");t.innerHTML=s}const r=document.getElementById("modal");r.querySelector(".modal-content");const Y=r.querySelector(".close"),S=r.querySelector(".exercise-gif"),K=r.querySelector(".exercise-title"),W=r.querySelectorAll(".exercise-star"),j=r.querySelector(".exercise-target"),z=r.querySelector(".exercise-bodyparts"),G=r.querySelector(".exercise-equipment"),Q=r.querySelector(".exercise-popular"),V=r.querySelector(".exercise-calories"),X=r.querySelector(".exercise-description"),T=r.querySelector(".favorite-button"),Z=document.querySelector(".rating-button"),L=document.querySelector(".modal_rating"),h="asdasdasdasdqweqweqwewerterterter123";a.addEventListener("click",e=>{const t=e.target.closest(".exercises-item");if(!t)return;const s=te(t);se(s),r.style.display="block"});Y.addEventListener("click",()=>{r.style.display="none"});window.addEventListener("click",e=>{e.target===r&&(r.style.display="none")});window.addEventListener("keydown",e=>{e.key==="Escape"&&(r.style.display="none")});window.addEventListener("click",e=>{Z&&L&&(L.dataset.id=r.dataset.id)});function _(){const e=window.localStorage.getItem(h);return e&&e!=="undefined"?JSON.parse(e):[]}function D(e){const t=_(),s=t.length?[...t,e]:[e];window.localStorage.setItem(h,JSON.stringify(s))}function O(e){const t=_();return console.log(t),!!t.find(s=>s===e)}function P(e){const s=O(e)?"Remove from":"Add to favorites";T.innerHTML=`${s} 
  <svg class="modal_icon" width="13" height="15"> 
  <use href="./img/icons.svg#icon-heart"></use> 
  </svg>`}function ee(e){const s=_().filter(o=>o!==e);window.localStorage.setItem(h,JSON.stringify(s))}T.addEventListener("click",e=>{if(!r)return;const t=r.dataset.id;O(t)?ee(t):D(t),P(t)});function te(e){const t=e.querySelector(".exercises-title-text"),s=e.querySelector(".exercises-text__dynamic"),o=e.querySelectorAll(".exercises-text__dynamic")[1],n=e.querySelectorAll(".exercises-text__dynamic")[2],i=e.querySelector(".exercises-rating__text"),{gifurl:l,description:y,equipment:m,popularity:v,id:x}=e.dataset;return{title:t.textContent,burnedCalories:s.textContent,bodyPart:o.textContent,target:n.textContent,rating:i.textContent,gifUrl:l,description:y,equipment:m,popularity:v,_id:x}}function se(e){S.src=e.gifUrl,S.alt=e.title;const t=parseFloat(e.rating);W.forEach((s,o)=>{o<t?s.style.fill="rgb(255, 195, 0)":s.style.fill="none"}),K.textContent=e.title,j.textContent=e.target,z.textContent=e.bodyPart,G.textContent=e.equipment,Q.textContent=e.popularity,V.textContent=e.burnedCalories,X.textContent=e.description,r.dataset.id=e.id,P(e.id)}
//# sourceMappingURL=modal_video-1c3175ac.js.map
